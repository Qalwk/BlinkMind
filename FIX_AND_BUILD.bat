@echo off
chcp 65001 >nul
color 0A
title üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–±–æ—Ä–∫–∞ BlinkMind

echo ===============================================
echo üîß –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï CDN –ò –°–ë–û–†–ö–ê
echo ===============================================
echo.
echo –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.
echo –ö–æ–¥ —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω, –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å.
echo.
echo –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è: 2-5 –º–∏–Ω—É—Ç
echo.
pause

echo.
echo [1/4] üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js...
node --version >nul 2>&1
if errorlevel 1 (
    color 0C
    echo ‚ùå –û–®–ò–ë–ö–ê: Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
    echo.
    echo –°–∫–∞—á–∞–π—Ç–µ Node.js —Å https://nodejs.org/
    echo –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–Ω–æ–≤–æ.
    echo.
    pause
    exit /b 1
)
echo ‚úÖ Node.js –Ω–∞–π–¥–µ–Ω
node --version

echo.
echo [2/4] üìÇ –ü—Ä–æ–≤–µ—Ä–∫–∞ package.json...
if not exist "package.json" (
    color 0C
    echo ‚ùå –û–®–ò–ë–ö–ê: package.json –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo.
    echo –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.
    echo –¢–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞: %CD%
    echo.
    pause
    exit /b 1
)
echo ‚úÖ package.json –Ω–∞–π–¥–µ–Ω

echo.
echo [3/4] üèóÔ∏è –°–±–æ—Ä–∫–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
echo –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã...
call npm run build
if errorlevel 1 (
    color 0C
    echo ‚ùå –û–®–ò–ë–ö–ê –ø—Ä–∏ —Å–±–æ—Ä–∫–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
    echo.
    echo –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
    echo npm install
    echo npm run build
    echo.
    pause
    exit /b 1
)
echo ‚úÖ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ

echo.
echo [4/4] üì¶ –°–±–æ—Ä–∫–∞ Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
echo –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 2-3 –º–∏–Ω—É—Ç—ã...
call npm run electron:build
if errorlevel 1 (
    color 0C
    echo ‚ùå –û–®–ò–ë–ö–ê –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
    echo.
    echo –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
    echo npm run electron:build
    echo.
    pause
    exit /b 1
)

echo.
echo ===============================================
echo ‚úÖ –ì–û–¢–û–í–û! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω–æ
echo ===============================================
echo.
echo üìÇ –ì–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
echo    dist-electron\BlinkMind 0.1.0.exe
echo.
echo üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
echo    - –ó–∞–º–µ–Ω–µ–Ω CDN —Å jsdelivr.net –Ω–∞ unpkg.com
echo    - –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
echo    - –¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!
echo.
echo üìù –ü—Ä–æ–≤–µ—Ä–∫–∞:
echo    1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
echo    2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É –ü–æ–º–æ–¥–æ—Ä–æ
echo    3. –ù–∞–∂–º–∏—Ç–µ –ù–∞—á–∞—Ç—å
echo    4. –ö–∞–º–µ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –≤–∫–ª—é—á–∏—Ç—å—Å—è
echo.

color 0A
echo ===============================================
echo üéâ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–ò–ú–ï–ù–ï–ù–û –£–°–ü–ï–®–ù–û!
echo ===============================================
echo.
pause

REM –°–ø—Ä–æ—Å–∏—Ç—å —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
echo.
set /p launch="–•–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–µ–π—á–∞—Å? (y/n): "
if /i "%launch%"=="y" (
    echo.
    echo üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...
    start "" "dist-electron\win-unpacked\BlinkMind.exe"
)

echo.
echo –°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ BlinkMind!
pause

